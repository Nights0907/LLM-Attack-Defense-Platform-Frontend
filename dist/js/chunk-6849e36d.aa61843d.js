(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6849e36d"],{"365c":function(e,t,s){"use strict";var a=s("bc3a"),r=s.n(a);const o={log:{log(){return r.a.post("/api/logs")}},user:{login(e){return r.a.post("/api/users/login",e)},register(e){return r.a.post("/api/users/register",e)}},attack:{executeAttack(e){return r.a.post("/api/attack/execute",e)},streamAttack(e){return{url:"/api/attack/execute/stream",method:"post",data:e}},addAttackMethod(e){return r.a.post("/api/attack",e)},updateAttackMethod(e){return r.a.put("/api/attack",e)},deleteAttackMethod(e){return r.a.delete("/api/attack",{params:e})},getAllMethods(){return r.a.get("/api/attack/methods")},getHistory(e){return r.a.post("/api/history",e)},getHistoryDetail(e){return r.a.post("/api/history/details",e)}},defense:{addDefenseMethod(e){return r.a.post("/api/defense",e)},updateDefenseMethod(e){return r.a.put("/api/defense",e)},deleteDefenseMethod(e){return r.a.delete("/api/defense",{params:e})},getAllMethods(){return r.a.get("/api/defense/methods")}},model:{getAllModels(){return r.a.post("/api/models")},getModelByName(e){return r.a.post("/api/models/info",e)}}};t["a"]=o},a55b:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("div",{staticClass:"login-box"},[e._m(0),t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.rules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",[t("el-button",{staticClass:"login-button",attrs:{type:"primary",loading:e.loading},on:{click:e.handleLogin}},[e._v("登录")])],1),t("div",{staticClass:"other-links"},[t("span",[e._v("还没有账号？")]),t("router-link",{attrs:{to:"/register"}},[e._v("立即注册")])],1)],1)],1)])},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"title"},[t("div",{staticClass:"logo-icon"},[t("i",{staticClass:"el-icon-s-platform"})]),t("h1",[e._v("大模型黑盒攻击防御能力评估平台")]),t("h2",[e._v("用户登录")])])}],o=s("365c"),i={name:"Login",data(){return{loginForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},loading:!1}},methods:{handleLogin(){this.$refs.loginForm.validate(e=>{if(!e)return!1;this.loading=!0,o["a"].user.login(this.loginForm).then(e=>{this.loading=!1;const t=e.data;this.$store.dispatch("login",{uid:t.uid,username:t.username}),localStorage.setItem("uid",t.uid),localStorage.setItem("username",t.username),this.$bus.$emit("user-updated",t.username),localStorage.setItem("showLoginSuccessMessage","true"),this.$router.push("/dashboard")}).catch(e=>{this.loading=!1,this.$message.error("登录失败: "+(e.response&&e.response.data&&e.response.data.error||"服务器错误"))})})}},created(){"true"===localStorage.getItem("showRegisterSuccessMessage")&&(this.$message.success("注册成功，请登录"),localStorage.removeItem("showRegisterSuccessMessage"))}},n=i,l=(s("b64c"),s("2877")),u=Object(l["a"])(n,a,r,!1,null,"044655b1",null);t["default"]=u.exports},b64c:function(e,t,s){"use strict";s("fbc1")},fbc1:function(e,t,s){}}]);
//# sourceMappingURL=chunk-6849e36d.aa61843d.js.map